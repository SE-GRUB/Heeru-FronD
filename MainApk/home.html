<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Home</title>

    <!-- FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins&family=Rozha+One&display=swap"
      rel="stylesheet"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="home.css" />
    <link rel="stylesheet" href="/MainApk/loading.css">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />

    <!-- ICON -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>

  <body>
    <!-- NAVBAR -->
    <nav class="navbarr">
      <span class="material-symbols-outlined active">
        home 
      </span>

      <a href="/Konsultasi_dokter/KONSULTASI.html">
        <span class="material-symbols-outlined nonactivate">
          digital_wellbeing
        </span>
      </a>

      <a href="./Laporan/laporanHome.html">
        <span class="material-symbols-outlined nonactivate">
          shield_person
        </span>
      </a>

      <a href="./Profile/profile.html">
        <span class="material-symbols-outlined nonactivate">
          person
        </span>
      </a>
    </nav>
    <!-- NAVBAR -->

    <div class="container">
      <div class="searchbar">
        <input
          type="search"
          class="nyari"
          id="nyari"
          placeholder="what's on trending"
        />
        <button type="submit">
          <span class="material-symbols-outlined ikonnyari"> search </span>
        </button>
      </div>

      <div class="badanpost" id="badanpost">
        <!-- templatepost -->
        <div class="kotakpost" id="kotakpost">
          <div class="bioyangpost">
            <div class="containerfoto">
              <img
                id="profileImage"
                class="photoprofile rounded-circle"
                src="https://static.wikia.nocookie.net/naruto/images/7/70/Naruto_newshot.jpg/revision/latest/scale-to-width-down/1200?cb=20141107130405&path-prefix=id"
                alt=""
              />
            </div>

            <div class="bagtext">
              <span id="databaseName" class="databaseName namepost"
                >Nama yang ngepost</span
              >
              <br />
              <span id="waktungepost" class="waktungepost">
                12 minutes ago
              </span>
            </div>
          </div>

          <div class="community-post">
            <div class="image-container">
                <img src="/asset/infografis1.jpg" alt="Community Post Image" class="post-image" onclick="zoomImage(this)">
            </div>
        </div>

          <div class="isipost" id="isipost">
            Menurut aku kesetaraan gender itu adalah hal yang sangat penting,
            dan tidak boleh diabaikan
          </div>

          <div class="actionpost">
            <div class="baglike">
              <span class="material-symbols-outlined"> favorite </span>
              <span id="databaseJumlahLike" class="databaseJumlahLike">
                100
              </span>
            </div>

            <div class="garisver"></div>

            <button id="komenBtn">
              <div class="bagreply" id="bagreply">
                <span class="material-symbols-outlined"> reply </span>
                <span id="databaseJumlahReply" class="databaseJumlahReply">
                  100
                </span>
              </div>
            </button>
          </div>


          <!-- KOMEN BENTUK BARU -->

          <!-- <div class="badankomen">
            <div class="gelapinbg"></div>
            <div class="konten">
              <div class="modal-header">
                <div class="drag-icon">
                  <span></span>
                </div>
              </div>
              <form id="postForm" enctype="multipart/form-data">
                <div class="modal-button">
                  <button type="button" class="postBtn" id="btnPost">Post</button>
                </div>
                <div class="modal-body">
                  <div class="community-post" id="containerPreview" style="display: none;">
                    <div class="image-container">
                      <img src="" id="imagePreview" alt="Community Post Image" class="post-image" onclick="zoomImage(this)">
                    </div>
                  </div>            
                  <div class="container-info">
                    <div class="containerfoto">
                      <img
                          id="ppModal"
                          class="photoprofile rounded-circle"
                          src="https://static.wikia.nocookie.net/naruto/images/7/70/Naruto_newshot.jpg/revision/latest/scale-to-width-down/1200?cb=20141107130405&path-prefix=id"
                          alt=""
                      />
                    </div>            
                    <div class="container-isi">
                      <textarea placeholder="What do you think ?" class="texta" id="postBody"></textarea>
                      <span id="errortext" class="text-danger hide">text</span>
                    </div>
                  </div>
                </div>
                <div class="row justify-content-end fixed-bottom bikinpost">
                  <label for="postImage" class="btn btn-primary col-3 ciptain">
                      <input type="file" id="postImage" class="d-none" accept="image/*">
                      <span class="material-symbols-outlined ciptains">add_photo_alternate</span>
                  </label>
                </div>        
              </form>
            </div>
          </div> -->

          <!-- KOMEN BENTUK BARU -->


          <div class="bioyangkomen row" id="komenField">
            <div class="garis"></div>

            <div class="col-1">
              <div class="containerfoto">
                <img
                  id="profileImage"
                  class="photoprofile2 rounded-circle"
                  src="https://static.wikia.nocookie.net/naruto/images/7/70/Naruto_newshot.jpg/revision/latest/scale-to-width-down/1200?cb=20141107130405&path-prefix=id"
                  alt=""
                />
              </div>
            </div>

            <div class="bagiantext col-11">
              <span id="isikomen" class="isikomen">
                <span id="databaseName" class="databaseName namekomen">
                  Nama yang Komen</span>
                <br>
                Lorem ipsum dolor sit amet consectetur adipisicing elit.
                Cupiditate doloremque itaque ex
              </span>

              <br>

              <span id="waktukomen" class="waktukomen">
                10m   ·  
              </span>

              <button class="tombolreply" id="tombolreply">
                Reply
              </button>

              <br>

              <button class="hideshow" id="tombolreply"
                      onclick="hideshow()">
                — View Reply
              </button>

            </div>
            
            <div class="bagianreply" id="bagianreply">
              <div class="bagiantext col-12">
                <span id="isireply" class="isireply">
                  <span id="databaseName" class="databaseName namekomen">
                    Nama yang reply</span>
                  <br>
                  <span id="namayangngepost" class="namayangngepost">
                    @namayangngepost
                  </span>
                  Lorem ipsum dolor sit amet ssss consectetur adipisicing elit.
                  Cupiditate doloremque itaque ex.
                </span>
              </div>

              <br>
            </div>
            

            <div class="buatreply">
              <textarea 
              type="textarea" 
              class="inputreply col-10"
              placeholder="Add comment..."></textarea>
              
              <button class="ngepost col-2">
                Post
              </button>
            </div>

          </div>

          <!-- Loading Spinner-->
          <div id="loadingContainer">
            <div id="loadingCircle"></div>
          </div>
        </div>
        <!-- template infografis -->
        <!-- <div class="boxinfografis">
          <div
            id="carouselExampleIndicators"
            class="carousel slide"
            data-bs-touch="false"
          >
            <div class="carousel-indicators">
              <button
                type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide-to="0"
                class="active buletin"
                aria-current="true"
                aria-label="Slide 1"
              ></button>
              <button
                type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide-to="1"
                class="buletin"
                aria-label="Slide 2"
              ></button>
              <button
                type="button"
                data-bs-target="#carouselExampleIndicators"
                data-bs-slide-to="2"
                class="buletin"
                aria-label="Slide 3"
              ></button>
            </div>
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img
                  src="https://static.wikia.nocookie.net/naruto/images/7/70/Naruto_newshot.jpg/revision/latest/scale-to-width-down/1200?cb=20141107130405&path-prefix=id"
                  class="d-block w-100 kustom"
                  alt="..."
                />
              </div>
              <div class="carousel-item">
                <img
                  src="https://static.wikia.nocookie.net/naruto/images/7/70/Naruto_newshot.jpg/revision/latest/scale-to-width-down/1200?cb=20141107130405&path-prefix=id"
                  class="d-block w-100 kustom"
                  alt="..."
                />
              </div>
              <div class="carousel-item">
                <img
                  src="https://static.wikia.nocookie.net/naruto/images/7/70/Naruto_newshot.jpg/revision/latest/scale-to-width-down/1200?cb=20141107130405&path-prefix=id"
                  class="d-block w-100 kustom"
                  alt="..."
                />
              </div>
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide="prev"
            >
              <span
                class="carousel-control-prev-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#carouselExampleIndicators"
              data-bs-slide="next"
            >
              <span
                class="carousel-control-next-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>-->
      </div>

      <div class="row justify-content-end fixed-bottom bikinpost">
        <button
          type="button"
          class="btn btn-primary col-3 ciptain"
          data-bs-target="#myModal"
          id="openBtn"
          >
          <span class="material-symbols-outlined">
            stylus_note
          </span>

        </button>
      </div>

    <div class="bottom-sheet" id="modalPost">
      <div class="overlay" id="overlayPost"></div>
      <div class="content" id="kontenPost">
        <div class="modal-header" id="postHeader">
          <div class="drag-icon" id="dragIconPost">
            <span></span>
          </div>
        </div>
        <form id="postForm" enctype="multipart/form-data">
          <div class="modal-button">
            <button type="button" class="postBtn" id="btnPost">Post</button>
          </div>
          <div class="modal-body">
            <div class="community-post" id="containerPreview" style="display: none;">
              <div class="image-container">
                <img src="" id="imagePreview" alt="Community Post Image" class="post-image" onclick="zoomImage(this)">
              </div>
            </div>            
            <div class="container-info">
              <div class="containerfoto">
                <img
                    id="ppModal"
                    class="photoprofile rounded-circle"
                    src="https://static.wikia.nocookie.net/naruto/images/7/70/Naruto_newshot.jpg/revision/latest/scale-to-width-down/1200?cb=20141107130405&path-prefix=id"
                    alt=""
                />
              </div>            
              <div class="container-isi">
                <textarea placeholder="What do you think ?" class="texta" id="postBody"></textarea>
                <span id="errortext" class="text-danger hide">text</span>
              </div>
            </div>
          </div>
          <div class="row justify-content-end fixed-bottom bikinpost">
            <label for="postImage" class="btn btn-primary col-3 ciptain">
                <input type="file" id="postImage" class="d-none" accept="image/*">
                <span class="material-symbols-outlined ciptains">add_photo_alternate</span>
            </label>
          </div>        
        </form>
      </div>
    </div>

    <div class="bottom-sheet" id="komenView">
      <div class="overlay" id="komenOverlay"></div>
      <div class="content" id="komenKonten">
        <div class="modal-header" id="komenHeader">
          <div class="drag-icon" id="komenDrag">
            <span></span>
          </div>
        </div>
        <p>Lorem, ipsum dolor sit amet consectetur adipisicing elit. Amet quis, quam neque perferendis voluptatibus voluptas reiciendis odit. Error voluptatibus delectus ipsam nobis ullam in minus fugiat, quidem, voluptate amet praesentium.
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolores magnam corrupti ipsa maiores facere earum eius, tempora, inventore recusandae dignissimos officia at repellendus consequatur modi adipisci! Mollitia veniam accusantium fuga.
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Impedit perspiciatis, neque odio ipsam veritatis accusantium rerum porro perferendis quia illo dolorum voluptates ullam quibusdam ratione repellendus velit repellat harum ut.
        </p>
      </div>
    </div>
    

    <!-- JS -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="../main.js"></script>
    <script>
      function zoomImage(element) {
        var image = event.target;
        image.classList.toggle('zoomed');
      }

      function hideshow(){
        var div = document.getElementById("bagianreply");
        if(div.style.display === "none"){
          div.style.display = "block";
        } else{
          div.style.display = "none";
        }
      }

    let btnKomen = document.querySelector("#komenBtn");
    let bottomSheetK = document.querySelector("#komenView");
    let overlayK = document.querySelector("#komenOverlay");
    let contentK = document.querySelector("#komenKonten");
    let dragIconK = document.querySelector("#komenDrag");
    let btnAdd = document.getElementById("openBtn");
    
    let isDragging = false,
    startY,
    startHeight;
    
    let updateHeightK= (height) => {
    contentK.style.height = `${height}vh`;

    bottomSheetK.classList.toggle("fullscreen", height === 100);
    };

    let showSheetK = () => {
    bottomSheetK.classList.add("show");
    btnAdd.style.display = "none";
    updateHeightK(50);

    document.body.style.overflow = "hidden";
    };

    let hideSheetK = () => {
    bottomSheetK.classList.remove("show");
    btnAdd.style.display = "block";
    document.body.style.overflow = "auto";
    };

    let dragStartK = (e) => {
    isDragging = true;
    bottomSheetK.classList.add("dragging");
    //recording intitial y position and sheet height
    startY = e.pageY || e.touches?.[0].pageY;
    startHeight = parseInt(contentK.style.height);
    };

    let draggingK = (e) => {
    //return if isDragging is false
    if (!isDragging) return;

    //calculating new height of sheet by using starty and start height
    //calling updateHeight function with new height as argument

    let delta = startY - (e.pageY || e.touches?.[0].pageY);
    let newHeight = startHeight + (delta / window.innerHeight) * 100;

    updateHeightK(newHeight);
    };

    let dragStopK = () => {
    isDragging = false;
    bottomSheetK.classList.remove("dragging");

    let sheetHeight = parseInt(contentK.style.height);

    sheetHeight < 25
        ? hideSheetK()
        : sheetHeight > 75
        ? updateHeightK(100)
        : updateHeightK(50);

    };

    dragIconK.addEventListener("mousedown", dragStartK);
    dragIconK.addEventListener("mousemove", draggingK);
    document.addEventListener("mouseup", dragStopK);

    dragIconK.addEventListener("touchstart", dragStartK);
    dragIconK.addEventListener("touchmove", draggingK);
    document.addEventListener("touchend", dragStopK);

    btnKomen.addEventListener("click", showSheetK);
    overlayK.addEventListener("click", hideSheetK);
    </script>
    <script>
      initpoin10();
    </script>
  </body>
</html>
